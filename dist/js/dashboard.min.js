angular.module("myApp",["ui.bootstrap","ui.router","ngCookies","leaflet-directive"]);
"use strict";angular.module("myApp").config(["$stateProvider","$urlRouterProvider",function(t,e){e.otherwise("/"),t.state("index",{url:"/",templateUrl:"templates/dashboard.html"}).state("tables",{url:"/tables",templateUrl:"templates/tables.html"})}]);
angular.module("myApp").controller("mapCtrl",["$scope","$http","leafletData",function(e,r,a){var t=function(e){return e.lng<0&&(e.lng=e.lng+360),e},n=function(e){switch(e){case"Inspections Required":c="blue";break;case"Inspection completed":c="green";break;case"Inspection Partially Completed":c="orange";break;case"Structure requiring immediate attention":c="red";break;case"New Bridge":c="yellow";break;case"General Inspections Required":c="violet";break;case"Duplicate":c="black"}return c},o=function(e){return{data:e,pointToLayer:function(e,r){var a=new L.Icon.Default,o=new L.Icon({iconUrl:"https://cdn.rawgit.com/pointhi/leaflet-color-markers/master/img/marker-icon-"+n(e.properties._status)+".png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[0,0]});return a.options.shadowSize=[0,0],marker=L.marker(t(r),{icon:o}),marker.bindPopup('<a href="https://web.fulcrumapp.com/records/'+e.properties._record_id+'" target="_blank">'+e.properties.sec_overview_fra_id+"</a>"),marker}}};r.get("https://api.fulcrumapp.com/api/v2/query/?format=geojson&q=SELECT%20sec_overview_fra_id,_record_id,_status,_geometry%20FROM%20%22Fiji%20Bridges%20Individual%20Inspections%22&token=d24fa42cfbeec55070c4696935504980e7a7a0e692c595182e96918b438f85c0eefc9907fd7fad40").success(function(r,a){angular.extend(e,{geojson:o(r)})}),angular.extend(e,{fiji:{lat:-17.6,lng:179,zoom:8},layers:{baselayers:{osm:{name:"Stamen",type:"xyz",url:"http://tile.stamen.com/terrain/{z}/{x}/{y}.jpg"}}},defaults:{scrollWheelZoom:!1}})}]);
function MasterCtrl(t,e){var g=992;t.getWidth=function(){return window.innerWidth},t.$watch(t.getWidth,function(o,n){o>=g?angular.isDefined(e.get("toggle"))?t.toggle=!!e.get("toggle"):t.toggle=!0:t.toggle=!1}),t.toggleSidebar=function(){t.toggle=!t.toggle,e.put("toggle",t.toggle)},window.onresize=function(){t.$apply()}}angular.module("myApp").controller("MasterCtrl",["$scope","$cookieStore",MasterCtrl]);
function tableCtrl(e,r){r.get("https://api.fulcrumapp.com/api/v2/query/?format=jsonp&q=SELECT%20_record_id,_status,inspector_name,inspection_type,date,sec_form_category,bridge_type,culvert_type,original_status,sec_overview_bridge_id,sec_overview_bridge_id,sec_overview_bridge_name,sec_overview_fra_id,reviewer,reviewed_date,reviewers_signature,approver,approved_date,approvers_signature,reviewer_approver_comments,total_cost%20FROM%20%22Fiji%20Bridges%20Individual%20Inspections%22&token=d24fa42cfbeec55070c4696935504980e7a7a0e692c595182e96918b438f85c0eefc9907fd7fad40").success(function(r){e.bridges=r.rows,console.log(r.rows)})}angular.module("myApp").controller("tableCtrl",["$scope","$http",tableCtrl]);
function rdLoading(){var d={restrict:"AE",template:'<div class="loading"><div class="double-bounce1"></div><div class="double-bounce2"></div></div>'};return d}angular.module("myApp").directive("rdLoading",rdLoading);
function rdWidgetBody(){var d={requires:"^rdWidget",scope:{loading:"@?",classes:"@?"},transclude:!0,template:'<div class="widget-body" ng-class="classes"><rd-loading ng-show="loading"></rd-loading><div ng-hide="loading" class="widget-content" ng-transclude></div></div>',restrict:"E"};return d}angular.module("myApp").directive("rdWidgetBody",rdWidgetBody);
function rdWidgetFooter(){var e={requires:"^rdWidget",transclude:!0,template:'<div class="widget-footer" ng-transclude></div>',restrict:"E"};return e}angular.module("myApp").directive("rdWidgetFooter",rdWidgetFooter);
function rdWidgetTitle(){var i={requires:"^rdWidget",scope:{title:"@",icon:"@"},transclude:!0,template:'<div class="widget-header"><div class="row"><div class="pull-left"><i class="fa" ng-class="icon"></i> {{title}} </div><div class="pull-right col-xs-6 col-sm-4" ng-transclude></div></div></div>',restrict:"E"};return i}angular.module("myApp").directive("rdWidgetHeader",rdWidgetTitle);
function rdWidget(){var d={transclude:!0,template:'<div class="widget" ng-transclude></div>',restrict:"EA"};return d}angular.module("myApp").directive("rdWidget",rdWidget);